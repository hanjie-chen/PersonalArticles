这是因为 Docker Compose 在启动所有服务时，会自动为它们创建一个共享的默认网络（通常是一个 bridge 网络），并在这个网络内开启 DNS 服务。具体来说：

- **服务名称解析**：在这个网络中，每个服务都会注册自己的名称（例如 `web-app`）。因此，在其他容器（比如 nginx）中，你可以通过该服务名称来解析并访问对应容器的 IP 地址。
- **端口通信**：容器内 web-app 服务监听的是 5000 端口。当 nginx 通过 `web-app:5000` 访问时，它会在内部网络中把请求发送到 web-app 容器的 5000 端口。

所以，使用 `web-app:5000` 就能轻松实现容器之间的相互访问，而无需通过宿主机端口映射。